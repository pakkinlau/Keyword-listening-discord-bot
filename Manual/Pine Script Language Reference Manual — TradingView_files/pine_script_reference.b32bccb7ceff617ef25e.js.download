(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[48462],{486808:()=>{},910:()=>{},586806:()=>{},43513:()=>{},55548:()=>{},18692:()=>{},389345:()=>{},315916:()=>{},213398:function(e,t){var n,s,i,r;r=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function s(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,c=/\S/;function a(e){return!function(e,t){return o.call(e,t)}(c,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},h=/\s*/,d=/\s+/,u=/\s*=/,p=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function _(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},_.prototype.push=function(e){return new _(e,this)},_.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,o,c=this,a=!1;c;){if(e.indexOf(".")>0)for(t=c.view,i=e.split("."),o=0;null!=t&&o<i.length;)o===i.length-1&&(a=r(t,i[o])),t=t[i[o++]];else t=c.view[e],a=r(c.view,e);if(a)break;c=c.parent}n[e]=t}return s(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,s){var r=this.cache,o=r[t];return null==o&&(o=r[t]=function(t,s){if(!t)return[];var r,o,c,l=[],_=[],v=[],g=!1,y=!1;function T(){if(g&&!y)for(;v.length;)delete _[v.pop()];else v=[];g=!1,y=!1}function I(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(i(e[0])+"\\s*"),o=new RegExp("\\s*"+i(e[1])),c=new RegExp("\\s*"+i("}"+e[1]))}I(s||e.tags);for(var x,S,w,E,C,b,A=new f(t);!A.eos();){if(x=A.pos,w=A.scanUntil(r))for(var R=0,P=w.length;R<P;++R)a(E=w.charAt(R))?v.push(_.length):y=!0,_.push(["text",E,x,x+1]),x+=1,"\n"===E&&T();if(!A.scan(r))break;if(g=!0,S=A.scan(m)||"name",A.scan(h),"="===S?(w=A.scanUntil(u),A.scan(u),A.scanUntil(o)):"{"===S?(w=A.scanUntil(c),A.scan(p),A.scanUntil(o),S="&"):w=A.scanUntil(o),!A.scan(o))throw new Error("Unclosed tag at "+A.pos);if(C=[S,w,x,A.pos],_.push(C),"#"===S||"^"===S)l.push(C);else if("/"===S){if(!(b=l.pop()))throw new Error('Unopened section "'+w+'" at '+x);if(b[1]!==w)throw new Error('Unclosed section "'+b[1]+'" at '+x)}else"name"===S||"{"===S||"&"===S?y=!0:"="===S&&I(w)}if(b=l.pop())throw new Error('Unclosed section "'+b[1]+'" at '+A.pos);return function(e){for(var t,n=[],s=n,i=[],r=0,o=e.length;r<o;++r)switch((t=e[r])[0]){case"#":case"^":s.push(t),i.push(t),
s=t[4]=[];break;case"/":i.pop()[5]=t[2],s=i.length>0?i[i.length-1][4]:n;break;default:s.push(t)}return n}(function(e){for(var t,n,s=[],i=0,r=e.length;i<r;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(s.push(t),n=t));return s}(_))}(t,s)),o},v.prototype.render=function(e,t,n){var s=this.parse(e),i=t instanceof _?t:new _(t);return this.renderTokens(s,i,n,e)},v.prototype.renderTokens=function(e,t,n,s){for(var i,r,o,c="",a=0,l=e.length;a<l;++a)o=void 0,"#"===(r=(i=e[a])[0])?o=this.renderSection(i,t,n,s):"^"===r?o=this.renderInverted(i,t,n,s):">"===r?o=this.renderPartial(i,t,n,s):"&"===r?o=this.unescapedValue(i,t):"name"===r?o=this.escapedValue(i,t):"text"===r&&(o=this.rawValue(i)),void 0!==o&&(c+=o);return c},v.prototype.renderSection=function(e,t,i,r){var o=this,c="",a=t.lookup(e[1]);if(a){if(n(a))for(var l=0,h=a.length;l<h;++l)c+=this.renderTokens(e[4],t.push(a[l]),i,r);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)c+=this.renderTokens(e[4],t.push(a),i,r);else if(s(a)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,r.slice(e[3],e[5]),(function(e){return o.render(e,t,i)})))&&(c+=a)}else c+=this.renderTokens(e[4],t,i,r);return c}},v.prototype.renderInverted=function(e,t,s,i){var r=t.lookup(e[1]);if(!r||n(r)&&0===r.length)return this.renderTokens(e[4],t,s,i)},v.prototype.renderPartial=function(e,t,n){if(n){var i=s(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),t,n,i):void 0}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var s=n.lookup(t[1]);if(null!=s)return e.escape(s)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.2.1",e.tags=["{{","}}"];var g=new v;e.clearCache=function(){return g.clearCache()},e.parse=function(e,t){return g.parse(e,t)},e.render=function(e,t,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return g.render(e,t,s)},e.to_html=function(t,n,i,r){var o=e.render(t,n,i);if(!s(r))return o;r(o)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},e.Scanner=f,e.Context=_,e.Writer=v},t&&"string"!=typeof t.nodeName?r(t):(s=[t],void 0===(i="function"==typeof(n=r)?n.apply(t,s):n)||(e.exports=i))},691797:(e,t,n)=>{"use strict";n.d(t,{ReferenceController:()=>c});var s=n(470316);class i{constructor(e,t,n){this._searchWidget=e,this._searchResultsElement=t,this._searchResultsPlaceholder=n}handleKeyDown(e,t){const n=(0,s.hashFromEvent)(e);if(27===n)return this._searchWidget.$input.val(""),this._searchWidget.$input.trigger("input"),e.preventDefault(),void e.stopPropagation();if(9===n)return;if(13===n)return e.preventDefault(),void e.stopPropagation();if(!this._shouldHighlight(n))return
;const i=this._searchResultsPlaceholder.querySelector(".tv-pine-reference-toc-item--selected"),r=this._getNextSelectedElementByKey(n,i);null!==r&&this._processSelectedElement(i,r),t&&t(r),e.preventDefault(),e.stopPropagation()}_shouldHighlight(e){return!![40,38].includes(e)&&0!==this._searchResultsPlaceholder.children.length}_processSelectedElement(e,t){if(!e)return void t.scrollIntoView();const n=this._searchResultsElement.getBoundingClientRect(),s=t.getBoundingClientRect();(n.top>s.top||n.bottom<s.bottom)&&t.scrollIntoView()}_getNextSelectedElementByKey(e,t){let n=null;return 40!==e&&9!==e||(n=this._getNextElement(t)),38===e&&(n=this._getNextElement(t,!0)),n}_getNextElement(e,t=!1){if(!e)return this._searchResultsPlaceholder.children[0];const n=this._searchResultsPlaceholder.querySelector(".js-reference-separator"),s=t?e.previousElementSibling:e.nextElementSibling;return s?s!==n?s:t?s.previousElementSibling?s.previousElementSibling:e:s.nextElementSibling?s.nextElementSibling:e:e}}var r=n(223124);class o{constructor(e,t,n){this._searchThrottleTimeout=null,this._searchRequestPromiseCancelable=null,this._tocElementRoot=e,this._referenceRenderer=t,this._searchResultsPlaceholder=n}search(e){this._searchThrottleTimeout&&clearTimeout(this._searchThrottleTimeout),null!==this._searchRequestPromiseCancelable&&(this._searchRequestPromiseCancelable.cancel(),this._searchRequestPromiseCancelable=null);const t=new Promise(t=>{this._searchThrottleTimeout=setTimeout(()=>{this._searchThrottleTimeout=null;const n=this._search(e);t(n)},200)});return this._searchRequestPromiseCancelable=(0,r.makeCancelable)(t),this._searchRequestPromiseCancelable.promise}_search(e){const t=e.trim().toLowerCase();if(t){const{titleMatches:e,textMatches:n}=this._referenceRenderer.searchInDocumentation(t);this._appendMatchesToPlaceholder(e);const s=n.filter(t=>!e.includes(t));if(s.length>0){if(e.length>0){const e=document.createElement("div");e.classList.add("tv-script-reference__separator","js-reference-separator"),this._searchResultsPlaceholder.appendChild(e)}this._appendMatchesToPlaceholder(s)}}return t}_appendMatchesToPlaceholder(e){e.forEach(e=>{const t=this._getTocItemByID(e);if(null!==t){const e=t.cloneNode(!0);e.classList.remove("tv-pine-reference-toc-item--selected"),e.classList.remove("tv-pine-reference-toc-item--scroll-position"),this._searchResultsPlaceholder.appendChild(e)}})}_getTocItemByID(e){return this._tocElementRoot.querySelector(`.tv-pine-reference-toc-item[data-href="${e}"]`)}}class c{constructor(e){if(this._previousSearchValue="",this._selectedItemId=null,this._selectedContentItem=null,this._scrollPositionTocItemId=null,this.handleKeydown=e=>new Promise(t=>{this._keydownHandler.handleKeyDown(e,e=>{null!==e&&(this._selectedItemId=e?e.getAttribute("data-href"):null,this._clearSelectedTocItems(),this.selectItem(this._selectedItemId)),this._searchWidget.$input.focus(),t(e)})}),this.handleAnchorItemClick=(e,t)=>{const n=e.target;if(n.classList&&n.classList.contains("js-reference")){e.preventDefault(),e.stopPropagation()
;const s=n.getAttribute("data-href");this.selectItem(s),this._searchWidget.$input.focus(),null==t||t(s)}},this._container=e.container,this._contentContainerElement=e.contentContainer,this._tocContainerElement=e.tocContainer,this._contentSectionHeaders=e.contentSectionHeaders,this._accordionWidget=e.accordionWidget,this._searchWidget=e.searchWidget,this._searchResultsElement=e.searchResultsElement,this._searchResultsPlaceholder=e.searchResultsPlaceholder,this._keydownHandler=new i(this._searchWidget,this._searchResultsElement,this._searchResultsPlaceholder),this._searchHelper=new o(this._container,e.renderer,this._searchResultsPlaceholder),this._showAllContent=e.showAllContent,!this._showAllContent){const e=this._contentContainerElement.querySelector(".tv-pine-reference-item");null!==e&&this.selectItem(e.id)}}scrollToActiveAnchor(){const e=this._tocContainerElement.querySelector(".tv-pine-reference-toc-item--selected");null!==e&&this._accordionWidget.makeContentElementVisible(e,!1)}getSelectedTocItem(){return this._getTocItemById(this._selectedItemId)}handleContentScroll(e,t=!1){const n=this._contentContainerElement.scrollTop;let s=t,i=this._contentSectionHeaders[0],r=null;const o=this._contentContainerElement.getBoundingClientRect();for(const e of this._contentSectionHeaders)e.getBoundingClientRect().top<o.top&&(i=e);if(i){const e=Array.from(i.nextElementSibling.children);for(const t of e){if(t.firstElementChild.getBoundingClientRect().bottom>o.top+10){r=t;break}}}if(r){const t=this._tocContainerElement.querySelector(`[data-href$="${r.id}"]`);t&&!e&&(this._accordionWidget.makeContentElementVisible(t,s),s=!1,this._markTocElementScrollPosition(r.id))}return{forceScrollToElement:s,scrollPosition:n}}selectItem(e){if(e){if(this._clearSelectedTocItems(),this._showAllContent&&(this._selectedContentItem&&this._selectedContentItem.classList.remove("tv-pine-reference-item--selected"),this._selectedContentItem=this._getContentItemById(e),null!==this._selectedContentItem)){this._selectedContentItem.classList.add("tv-pine-reference-item--selected");this._selectedContentItem.firstElementChild.scrollIntoView()}if(this._selectTocItemsById(e),this._selectedItemId=e,!this._showAllContent){const t=this._tocContainerElement.querySelector(`[data-href$="${e}"]`);t&&this._accordionWidget.makeContentElementVisible(t,!1)}}}handleSearchInputChange(e){const t=this._searchWidget.$input.val().trim();this._previousSearchValue!==t&&(this._searchResultsPlaceholder.innerHTML="",this._previousSearchValue=t,this._searchHelper.search(t).then(t=>{if(t)this._searchResultsElement.classList.remove("i-hidden"),this._tocContainerElement.classList.add("i-hidden");else{this._searchResultsElement.classList.add("i-hidden"),this._tocContainerElement.classList.remove("i-hidden");const e=this.getSelectedTocItem();null!==e&&this._accordionWidget.makeContentElementVisible(e)}e&&e(t)}))}_markTocElementScrollPosition(e){const t=this._getTocItemById(this._scrollPositionTocItemId);t&&t.classList.remove("tv-pine-reference-toc-item--scroll-position"),
this._scrollPositionTocItemId=e;const n=this._getTocItemById(this._scrollPositionTocItemId);n&&n.classList.add("tv-pine-reference-toc-item--scroll-position")}_selectTocItemsById(e){for(const t of this._getTocItemsById(e))t.classList.add("tv-pine-reference-toc-item--selected")}_clearSelectedTocItems(){const e=Array.from(this._container.querySelectorAll(".tv-pine-reference-toc-item--selected"));for(const t of e)t.classList.remove("tv-pine-reference-toc-item--selected")}_getTocItemById(e){return null===e?null:this._container.querySelector(`.tv-pine-reference-toc-item[data-href="${e}"]`)}_getTocItemsById(e){return Array.from(this._container.querySelectorAll(`.tv-pine-reference-toc-item[data-href="${e}"]`))}_getContentItemById(e){return null===e?null:this._container.querySelector(`.tv-pine-reference-item[id="${e}"]`)}}},842141:(e,t,n)=>{"use strict";n.d(t,{ReferenceRenderer:()=>h});var s=n(787236),i=n(588537),r=(n(55548),n(315916),n(583178)),o=n(213398)
;const c='<div id="{{id}}" class="tv-pine-reference-item tv-pine-reference-item--scroll-aligner"><div class="tv-pine-reference-item__content"><h3 class="tv-pine-reference-item__header">{{title}}</h3><span title="{{tooltipTitle}}" class="apply-common-tooltip common-tooltip-html tv-pine-reference-item__wrapper-copy-link-button"><button data-id="{{id}}" class="tv-pine-reference-item__copy-link-button js-copy-solution-link-button"><span class="tv-pine-reference-item__icon">'+n(900563)+'</span></button></span>{{#description}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/description}}{{#type}}<div class="tv-pine-reference-item__sub-header">'+s.t("Type")+'</div><div class="tv-pine-reference-item__text tv-text">{{.}}</div>{{/type}}{{#syntax}}<div class="tv-pine-reference-item__syntax">{{{.}}}</div>{{/syntax}}{{#hasExamples}}<div class="tv-pine-reference-item__sub-header">'+s.t("Example")+'</div><pre class="tv-pine-reference-item__example"><code class="language-js">{{{example}}}</code></pre>{{/hasExamples}}{{#detailedDescription}}{{#desc}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/desc}}{{#example}}<div class="tv-pine-reference-item__sub-header">'+s.t("Example")+'</div><pre class="tv-pine-reference-item__example"><code class="language-js">{{{example}}}</code></pre>{{/example}}{{/detailedDescription}}{{#hasReturns}}<div class="tv-pine-reference-item__sub-header">'+s.t("Returns")+'</div>{{/hasReturns}}{{#returns}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/returns}}{{#hasArguments}}<div class="tv-pine-reference-item__sub-header">'+s.t("Arguments")+'</div>{{/hasArguments}}{{#args}}<div class="tv-pine-reference-item__text tv-text"><span class="tv-pine-reference-item__arg-type">{{name}} {{#type}}({{type}}) {{/type}}</span>{{{info}}}</div>{{/args}}{{#hasRemarks}}<div class="tv-pine-reference-item__sub-header">'+s.t("Remarks")+'</div>{{/hasRemarks}}{{#remarks}}<div class="tv-pine-reference-item__text tv-text">{{{.}}}</div>{{/remarks}}{{#hasSeeAlso}}<div class="tv-pine-reference-item__sub-header">'+s.t("See also")+'</div><div class="tv-pine-reference-item__see-also">{{#seeAlso}}{{> tagItemTemplate}}{{/seeAlso}}</div>{{/hasSeeAlso}}</div></div>',a=()=>(e,t)=>(0,r.encodeURI)(t(e)),l=()=>(e,t)=>t(e).toLowerCase();class h{constructor(e){this.tagRegExp=new RegExp("{@(\\w+)\\s+([\\w.]+)}","g"),this._templates={...h.defaultPartials,...e},this._documentationCollectionsInfo=[]}loadReference(e){return(0,r.getReferenceDataByVersion)((0,r.makePineVersion)(e)).then(this._loadReference.bind(this))}getScriptReferenceContentHtml(){return o.render(this._templates.contentTemplate,{encode:a,lower:l,sections:this._documentationCollectionsInfo.map(e=>({header:e.title,items:e.collection}))},this._templates)}getScriptItemReferenceContentHtml(e){if(void 0===e&&this._documentationCollectionsInfo.length>0){const t=this._documentationCollectionsInfo[0].collection;if(0===t.length)return"";e=t[0].id}let t;for(const n of this._documentationCollectionsInfo)if(t=n.collection.find(t=>t.id===e),t)break
;return t?o.render(this._templates.contentItemTemplate,{encode:a,lower:l,...t},this._templates):""}getScriptReferenceTocContent(){return o.render(this._templates.tocTemplate,{encode:a,lower:l,sections:this._documentationCollectionsInfo.map(e=>({header:e.title,items:this._prepareTocCollection(e)}))},this._templates)}searchInDocumentation(e){const t={titleMatches:[],textMatches:[]};return this._documentationCollectionsInfo.forEach(n=>{const s=this._searchInCollection(e,n);t.titleMatches.push(...s.titleMatches),t.textMatches.push(...s.textMatches)}),t.titleMatches=t.titleMatches.sort(),t.textMatches=t.textMatches.sort(),t}static replaceTags(e,t){return e.replace(/{@\w+\s+([\w.]+)}/g,"<code"+(!0===t||/[\r\n]/.test(e)?' class="block"':"")+">$1</code>")}_searchInCollection(e,t){const n={titleMatches:[],textMatches:[]};return t.collection.forEach(t=>{t.title.includes(e)?n.titleMatches.push(t.id):(this._searchInArgs(e,t)||this._searchInDescription(e,t)||this._searchInMisc(e,t.remarks)||this._searchInMisc(e,t.returns)||this._searchInMisc(e,t.syntax)||t.example&&(t.example||"").includes(e)||t.type&&(t.type||"").includes(e))&&n.textMatches.push(t.id)}),n}_searchInArgs(e,t){return Array.isArray(t.args)&&t.args.some(t=>(t.name||"").toLowerCase().includes(e)||(t.type||"").toLowerCase().includes(e)||(t.info||[]).some(t=>(t||"").toLowerCase().includes(e)))}_searchInDescription(e,t){return!(!Array.isArray(t.description)||!t.description.some(t=>(t||"").toLowerCase().includes(e)))||Array.isArray(t.detailedDescription)&&t.detailedDescription.some(t=>Array.isArray(t.desc)&&t.desc.some(t=>(t||"").toLowerCase().includes(e)))}_searchInMisc(e,t){return Array.isArray(t)&&t.some(t=>(t||"").toLowerCase().includes(e))}_loadReference(e){this._documentationCollectionsInfo=[{collection:this._prepareCollection(e.operators),prefix:"op",title:s.t("Language operators")},{collection:this._prepareCollection(e.variables),prefix:"var",title:s.t("Built-in variables")},{collection:this._prepareCollection(e.functions),prefix:"fun",title:s.t("Built-in functions")}]}_prepareCollection(e){const t=e.prefix,n=e.docs;return Object.keys(n).sort().map(e=>{const s=n[e];return this._prepareItem(s,e,t)})}_prepareItem(e,t,n){return{args:this._formatArgs(e.args),description:this._replaceDocTags(e.desc),detailedDescription:this._formatDetailedDescription(e.detailedDesc),id:`${n}${(0,r.encodeURI)(t)}`,remarks:e.remarks?this._replaceDocTags(e.remarks):void 0,returns:e.returns?this._replaceDocTags(e.returns):void 0,example:e.examples?this._formatExamples(e.examples):void 0,seeAlso:e.seeAlso?this._extractDocumentationTags(e.seeAlso):void 0,syntax:e.syntax,title:t,type:e.type,tooltipTitle:s.t("Copy link reference"),hasArguments:Boolean(e.args),hasDetailedDescription:Boolean(e.detailedDesc),hasExamples:Boolean(e.examples),hasRemarks:Boolean(e.remarks),hasReturns:Boolean(e.returns),hasSeeAlso:Boolean(e.seeAlso)}}_prepareTocCollection(e){return e.collection.map(t=>({kind:e.prefix,name:t.title}))}_formatExamples(e){if(e&&e.length>0)return e.join("\n")}_formatDetailedDescription(e){
const t=[];if(e&&e.length>0){for(const n of e)t.push({desc:(0,i.ensureDefined)(this._replaceDocTags(n.desc)),example:this._formatExamples(n.examples)});return t}}_formatArgs(e){if(e){for(let t=0;t<e.length;++t){const n=e[t].info;void 0!==n&&(e[t].info=this._replaceDocTags(n))}return e}}_replaceDocTags(e){if(e){if(e instanceof Array){const t=[];for(let n=0;n<e.length;++n){let s=e[n];s=this._replaceDocTagsInStr(s),t.push(s)}return t}return e=this._replaceDocTagsInStr(e),Array.isArray(e)&&e||[e]}}_extractDocumentationTags(e){if(e){if(e instanceof Array){let t=[];for(let n=0;n<e.length;++n){const s=e[n];t=t.concat(this._extractDocumentationTagsFromString(s))}return t}{const t=this._extractDocumentationTagsFromString(e);return Array.isArray(t)&&t||[t]}}}_extractDocumentationTagsFromString(e){const t=[];let n=e.match(h._documentationTagRegExp);for(;n;)t.push({kind:n[1],name:n[2]}),n=(e=e.replace(h._documentationTagRegExp,"")).match(h._documentationTagRegExp);return t}_replaceDocTagsInStr(e){let t=e.match(h._documentationTagRegExp);for(;t;){const n=(0,r.encodeURI)(t[2]);t=(e=e.replace(h._documentationTagRegExp,o.render(this._templates.hrefItemTemplate,{name:n,text:t[2],type:t[1]}))).match(h._documentationTagRegExp)}return e}}h.defaultPartials={contentItemTemplate:c,contentSectionTemplate:'<h2 class="tv-pine-reference-header">{{header}}</h2><div>{{#items}}{{> contentItemTemplate}}{{/items}}</div>',contentTemplate:"{{#sections}}{{> contentSectionTemplate}}{{/sections}}",hrefItemTemplate:'<a href="#{{type}}_{{name}}" class="js-reference" data-href="{{type}}_{{name}}">{{text}}</a>',tagItemTemplate:'<a href="#{{#encode}}{{kind}}_{{{name}}}{{/encode}}" class="tv-tag-label js-reference" data-href="{{#encode}}{{kind}}_{{{name}}}{{/encode}}">{{name}}</a>',tocItemTemplate:'<a href="#{{#encode}}{{kind}}_{{{name}}}{{/encode}}" class="tv-pine-reference-toc-item js-reference" data-name="{{#lower}}{{name}}{{/lower}}" data-href="{{#encode}}{{kind}}_{{{name}}}{{/encode}}">{{name}}</a>',tocSectionTemplate:'<div class="tv-accordion__section-header">{{header}}</div><div class="tv-accordion__section-body">{{#items}}{{> tocItemTemplate}}{{/items}}</div>',tocTemplate:"{{#sections}}{{> tocSectionTemplate}}{{/sections}}"},h._documentationTagRegExp=/{@(fun|var|op)\s([\w.?:+\-*/%\<\>]+)}/},289008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSearchControl:()=>h});n(823127);var s=n(97639),i=n.n(s),r=n(744267),o=n(60702),c=(n(18692),n(823127));const a='<div class="tv-search-row"><input class="tv-search-row__input js-input-control" type="text" name="q" value="" autocomplete="off" data-role="search"><span class="tv-search-row__input-reset i-hidden js-reset-button">'+r+'</span><span class="tv-search-row__search-icon">'+o+"</span></div>";function l(e,t,n){t.toggleClass("i-hidden",""===e.val()),n.fire(e.val())}function h(e){const t=c(a);e.addClass&&t.addClass(e.addClass),e.withoutControls&&t.addClass("tv-search-row--without-controls");const n=t.find(".js-input-control"),s=t.find(".js-reset-button");e.placeholder&&n.attr("placeholder",e.placeholder),
e.dataName&&n.attr("data-name",e.dataName),s[0].addEventListener("click",()=>{n.val("").trigger("input").focus()});const r=new(i());return n.on("input propertychange",l.bind(null,n,s,r)),l(n,s,r),{$control:t,$input:n,inputChangedDelegate:r}}},281640:(e,t,n)=>{var s;e=n.nmd(e),"undefined"!=typeof window&&(s=window.TVScript=window.TVScript||{}),(s=s||{}).Access={},s.Access.ACCESS_OPEN_NO_AUTH="open_no_auth",s.Access.ACCESS_CLOSED_NO_AUTH="closed_no_auth",s.Access.ACCESS_CLOSED_NEEDS_AUTH="closed_needs_auth",s.Access.MAP_ID_TO_NAME={1:s.Access.ACCESS_OPEN_NO_AUTH,2:s.Access.ACCESS_CLOSED_NO_AUTH,3:s.Access.ACCESS_CLOSED_NEEDS_AUTH},s.Access.MAP_NAME_TO_ID={},Object.keys(s.Access.MAP_ID_TO_NAME).forEach((function(e){s.Access.MAP_NAME_TO_ID[s.Access.MAP_ID_TO_NAME[e]]=e})),s.PinePrefix={},s.PinePrefix.USER="USER;",s.PinePrefix.PUB="PUB;",s.PinePrefix.STD="STD;",s.PinePrefix.TV="TV_",s.PinePrefix.EDGR="EDGR_",s.PineType={},s.PineType.UserSaved="PineType_UserSaved",s.PineType.UserPublished="PineType_UserPublished",s.PineType.BuiltIn="PineType_BuiltIn",s.PineType.Addon="PineType_Addon",s.Type=s.Type||function(){},s.Type.VOID="void",s.Type.INTEGER="integer",s.Type.FLOAT="float",s.Type.STRING="string",s.Type.BOOL="bool",s.Type.COLOR="color",s.Type.SERIES="series",s.Type.PLOT="plot",s.Type.HLINE="hline",s.Type.BARCOLOR="barcolor",s.Type.BGCOLOR="bgcolor",s.Type.PLOTSHAPES="plotshape",s.Type.PLOTCHARS="plotchar",s.Type.PLOTARROWS="plotarrow",s.Type.NA="na",s.Type.ARRAY="array",s.TranslatorDefaultVersion=1,s.TranslatorReferenceVersioningIntroduced=4,s.TranslatorLastVersion=5,s.pineType=function(e){return e.startsWith(s.PinePrefix.USER)?s.PineType.UserSaved:e.startsWith(s.PinePrefix.PUB)?s.PineType.UserPublished:e.startsWith(s.PinePrefix.STD)||e.startsWith(s.PinePrefix.TV)||e.startsWith(s.PinePrefix.EDGR)?s.PineType.BuiltIn:s.PineType.Addon},s.patchILTemplate=function(e,t,n){var i=n||{};return s._patchTemplate(/<(in_\d+)>/g,e,t,i)},s.decorateQuotes=function(e){if(!e)return e;var t=/([^\\']+?)(')[^']*?/g,n=e;return"'"==n.charAt(0)&&"'"==n.charAt(n.length-1)?"'"+(n=n.substr(1,n.length-2)).replace(t,"$1\\$2")+"'":n.replace(t,"$1\\$2")},s.patchInputs=function(e,t){var n={};for(var s in e)if(e.hasOwnProperty(s)){var i,r=e[s];i=r.isFake?{v:t[r.id],f:!0,t:r.type}:t[r.id],n[r.id]=i}return n},s._patchTemplate=function(e,t,n,i){var r=i||{};return t.replace(e,(function(e,t){for(var i=(t in r?r[t]:n.defaults.inputs[t]),o=0;o<n.inputs.length;++o)if(n.inputs[o].id===t)if("bool"===n.inputs[o].type)i=i?"1.0":"0.0";else if(["text","symbol","resolution","session"].indexOf(n.inputs[o].type)>=0)i="'"+s.decorateQuotes(i)+"'";else if("source"===n.inputs[o].type){var c=i.split("$");c[0]="'"+c[0]+"'",i="source("+c.join(",")+")"}return i}))},s.isStrategy=function(e){return/^\s*strategy\s*\(/m.test(e)};var i=/^\s*\/\/\s*?@version\s*?=\s*?(\S*?)\s*?$/gm,r=/^[0-9]+$/;s.extractVersion=function(e){i.lastIndex=0;var t=i.exec(e);if(null===t)return s.TranslatorDefaultVersion;var n=t[1],o=r.test(n)?Number(n):NaN;return isNaN(o)?s.TranslatorDefaultVersion:o},
s.canUpgradeVersion=function(e){return e>=3&&e<s.TranslatorLastVersion},s.canDowngradeVersion=function(e){return e>=4&&e<=s.TranslatorLastVersion},e&&e.exports&&(e.exports=s)},583178:(e,t,n)=>{"use strict";n.r(t),n.d(t,{encodeURI:()=>r,makePineVersion:()=>o,pineVersionHash:()=>c,pineVersionMemoizer:()=>a,getAceMode:()=>l,getBuiltinsDataByVersion:()=>h,getReferenceDataByVersion:()=>d});var s=n(281640),i=n(931493);function r(e){let t=e;return t=t.replace(/\?/g,"{question}"),t=t.replace(/:/g,"{colon}"),t=t.replace(/\+/g,"{plus}"),t=t.replace(/-/g,"{minus}"),t=t.replace(/\*/g,"{star}"),t=t.replace(/%/g,"{percent}"),t=t.replace(/\//g,"{slash}"),t=t.replace(/\./g,"{dot}"),t}function o(e){return e>0&&Number.isInteger(e)&&e<=s.TranslatorLastVersion?e:s.TranslatorDefaultVersion}function c(e){return e>s.TranslatorLastVersion||e<s.TranslatorReferenceVersioningIntroduced?0:e}function a(e){const t={};return n=>{const s=c(n);if(s in t)return t[s];const i=e(n);return t[s]=i,i}}function l(e){return"ace/mode/tvscript_v"+c(e)}const h=a(async e=>function(e){const t=e.keywords,n=Object.keys(e.functions.docs).sort(),s=n.map(i.regExpEscape).reverse(),r=new Map(Object.entries(e.functions.docs)),o=Object.keys(e.variables.docs).sort(),c=o.map(i.regExpEscape).reverse();return{keywordsList:t,functionsList:n,functionsRegExList:s,functionsDocsMap:r,variablesList:o,variablesRegExList:c}}(await d(e)));async function d(e){switch(e){case 3:return n.e(32342).then(n.t.bind(n,49411,23));case 4:return n.e(13314).then(n.t.bind(n,888377,23));default:return n.e(25821).then(n.t.bind(n,933621,23))}}},135857:(e,t,n)=>{"use strict";var s=n(823127),i=n(787236).t,r=n(207678).breakpoints;n(910),n(586806),n(43513),n(389345),n(486808);var o=n(289008),c=n(272071),a=n(842141).ReferenceRenderer,l=n(691797).ReferenceController,h=n(299459).copyLinkButtonEvent,d=n(627595).limitScrollBubbling,u=n(412331);s((function(){var e=new a,t=document.querySelector(".js-content"),n=document.querySelector(".js-accordion"),p=document.querySelector(".js-mobile-toggle-button"),m=window.initData.referenceVersion.match(/^v([1-9]\d*)$/),f=null===m?void 0:parseInt(m[1]),_="";e.loadReference(f).then((function(){t.innerHTML=e.getScriptReferenceContentHtml(),n.innerHTML=e.getScriptReferenceTocContent();var a=o.createSearchControl({placeholder:i("Search"),addClass:"tv-script-reference__search-row"});s(".js-search-bar-container").append(a.$control),t.addEventListener("click",e=>{h(e,f)});var m=document.querySelector(".js-script-reference"),v=document.querySelector(".js-sticky-container"),g=document.querySelector(".js-search-results"),y=document.querySelector(".js-version-switcher"),T=document.querySelector(".js-toc-container"),I=document.querySelector(".js-search-results-container"),x=new c.TvAccordion(n),S=document.querySelectorAll(".tv-pine-reference-header"),w=window.innerWidth<r.phone,E=document.querySelector(".js-sticky-headers-container"),C=w?T:E;const b={container:document,contentContainer:C,tocContainer:T,contentSectionHeaders:S,accordionWidget:x,searchWidget:a,searchResultsElement:I,
searchResultsPlaceholder:g,renderer:e,showAllContent:!0};var A=new l(b),R=m.querySelectorAll(".tv-accordion__section-body"),P=function(){w!==window.innerWidth<r.phone&&(!0===w?(w=!1,C=E,y.classList.remove("i-hidden"),T.classList.remove("i-hidden")):(w=!0,C=T,B()))},L=function(){A.handleContentScroll(!1)},k=function(){y.classList.add("i-hidden"),T.classList.add("i-hidden"),m.classList.remove("tv-script-reference--left-column-active");var e=m.querySelector(".tv-pine-reference-item--selected");e&&e.scrollIntoView()},D=function(){var e=decodeURIComponent(location.hash);if(_!==e){_=e;var t=e.slice(1);A.selectItem(t),a.$input.focus()}},B=function(e){m.classList.contains("tv-script-reference--left-column-active")?k():function(){y.classList.remove("i-hidden"),T.classList.remove("i-hidden"),m.classList.add("tv-script-reference--left-column-active");var e,t,n,s=T.querySelector(".tv-pine-reference-toc-item--selected");s&&(t=(e=s).parentElement.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect(),(t.top>n.top||t.bottom<n.bottom)&&e.scrollIntoView())}()};w&&""!==_&&k(),t.addEventListener("scroll",L),window.addEventListener("resize",(function(){P(),L()})),window.addEventListener("hashchange",D),p.addEventListener("click",B);const M={};[3,4,5].forEach(e=>{const t=v.querySelector(`.js-v${e}-selector`);M[e]=t,t.addEventListener("click",(function(){location.replace(location.protocol+"//"+location.host+`/pine-script-reference/v${e}/`)}))}),(M[f]||M[5]).classList.add("tv-script-reference__version--selected"),a.$input.get(0).addEventListener("keydown",A.handleKeydown),d(g);for(var V=0;V<R.length;++V)d(R[V]);D(),L(),a.inputChangedDelegate.subscribe(null,()=>{A.handleSearchInputChange((function(e){a.$input.focus()}))}),u.highlightAll()}))}))},272071:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TvAccordion:()=>o});n(823127);var s=n(97639),i=n.n(s),r=n(253742);n(389345);class o{constructor(e,t={collapsible:!0,customScroll:!1}){this._activeIndex=-1,this._clickHandler=this._clickHandler.bind(this),this._sections=[],this._activeIndex=-1,this._options=t;for(let t=0;t<e.children.length;++t){const n=e.children[t];n.classList.contains("tv-accordion__section-header")&&(this._sections.push({body:n.nextElementSibling,header:n}),n.addEventListener("click",this._clickHandler),n.classList.contains("tv-accordion__section-header--active")&&(this._activeIndex=t))}t.customScroll&&this._sections.forEach(e=>{e.body.classList.add("tv-accordion__section-body--custom-scroll"),e.body.innerHTML='<div style="position: relative">'+e.body.innerHTML+"</div>",e.scroll=new r.SidebarCustomScroll(e.body,e.body.firstElementChild)}),t.collapsible||-1!==this._activeIndex||this.setActiveIndex(0),this.onSectionChange=new(i())}setActiveSectionByHeader(e){this.setActiveIndex(this._sections.findIndex(t=>t.header===e))}setActiveIndex(e){const t=this._activeIndex;if(this._activeIndex!==e&&(this._options.collapsible||!(e<0||e>=this._sections.length))&&(-1!==this._activeIndex&&this._sections[this._activeIndex].header.classList.remove("tv-accordion__section-header--active"),
e<0||e>=this._sections.length?this._activeIndex=-1:(this._activeIndex=e,this._sections[this._activeIndex].header.classList.add("tv-accordion__section-header--active")),this._activeIndex!==t&&this.onSectionChange)){if(this._options.customScroll){const e=this._sections[this._activeIndex].scroll;e.atStart()&&e.scrollToStart(),e.resize()}this.onSectionChange.fire(this._activeIndex)}}closeAll(){-1!==this._activeIndex&&(this._sections[this._activeIndex].header.classList.remove("tv-accordion__section-header--active"),this._activeIndex=-1,this.onSectionChange.fire(this._activeIndex))}makeContentElementVisible(e,t=!1){let n=e;for(;!n.classList.contains("tv-accordion__section-body")&&null!==n.parentElement;)n=n.parentElement;if(n&&n.classList.contains("tv-accordion__section-body")&&n.previousElementSibling){const s=n.previousElementSibling;this.setActiveSectionByHeader(s);const i=e.getBoundingClientRect(),r=n.getBoundingClientRect();if(t||r.top>i.top||r.bottom<i.bottom)if(this._options.customScroll){const t=this._sections[this._activeIndex].scroll;t.isTouch()?e.scrollIntoView():t.scrollTo(e,{areaHeight:e.offsetHeight,offsetTop:e.offsetTop,position:"top"})}else e.scrollIntoView()}}getSections(){return this._sections}getActiveSection(){return-1!==this._activeIndex?this._sections[this._activeIndex]:null}_clickHandler(e){const t=e.currentTarget;-1!==this._activeIndex&&this._sections[this._activeIndex].header===t?this.closeAll():this.setActiveSectionByHeader(t)}}},627595:(e,t,n)=>{"use strict";n.d(t,{limitScrollBubbling:()=>i});class s{constructor(e,t={touch:!0,wheel:!0}){this._onWheelHandler=e=>{e.ctrlKey||e.shiftKey||e.altKey||(e.deltaY<0&&this._isFullyScrolledToTop()&&e.preventDefault(),e.deltaY>0&&this._isFullScrolledToBottom()&&e.preventDefault())},this._onTouchMoveHandler=e=>{if("touchstart"===e.type&&(this._lastTouchY=e.touches[0].clientY),"touchmove"===e.type){const t=e.touches[0].clientY;t>this._lastTouchY&&this._isFullyScrolledToTop()&&e.preventDefault(),t<this._lastTouchY&&this._isFullScrolledToBottom()&&e.preventDefault(),this._lastTouchY=t}},this.element=e,t.wheel&&e.addEventListener("wheel",this._onWheelHandler,!0),t.touch&&(e.addEventListener("touchstart",this._onTouchMoveHandler,!0),e.addEventListener("touchmove",this._onTouchMoveHandler,!0))}_isFullyScrolledToTop(){return 0===this.element.scrollTop}_isFullScrolledToBottom(){return this.element.scrollTop+this.element.clientHeight===this.element.scrollHeight}}function i(e,t){return new s(e,t).element}},299459:(e,t,n)=>{"use strict";n.d(t,{copyLinkButtonEvent:()=>r});var s=n(787236),i=n(309103);function r(e,t){const n=window.location.origin;let r="";if(t&&(r=`/pine-script-reference/v${t}/`),(null==e?void 0:e.target).matches(".js-copy-solution-link-button")){const o=e.target.dataset.id;o&&t&&navigator.clipboard.writeText(`${n}${r}#${o}`).then(()=>{(0,i.showOnElement)(e.target,{tooltipDelay:0,tooltipHideDelay:250,content:{type:"text",data:s.t("Link copied")}}),setTimeout(()=>(0,i.hide)(),1500)})}}},900563:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path fill-rule="nonzero" d="M15.039 5.969l-.019-.019-2.828 2.828.707.707 2.474-2.474c1.367-1.367 3.582-1.367 4.949 0s1.367 3.582 0 4.949l-2.474 2.474.707.707 2.828-2.828-.019-.019c1.415-1.767 1.304-4.352-.334-5.99-1.638-1.638-4.224-1.749-5.99-.334zM5.97 15.038l-.019-.019 2.828-2.828.707.707-2.475 2.475c-1.367 1.367-1.367 3.582 0 4.949s3.582 1.367 4.949 0l2.474-2.474.707.707-2.828 2.828-.019-.019c-1.767 1.415-4.352 1.304-5.99-.334-1.638-1.638-1.749-4.224-.334-5.99z"/><path d="M10.485 16.141l5.656-5.656.707.707-5.656 5.656z"/></g></svg>'},744267:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 95.939 95.939" width="95.939" height="95.939"><path d="M62.82 47.97l32.53-32.534a2 2 0 0 0 0-2.828L83.332.586a2 2 0 0 0-2.827 0L47.97 33.12 15.435.587c-.75-.75-2.078-.75-2.828 0L.587 12.607a2 2 0 0 0 0 2.83L33.12 47.97.588 80.504a2 2 0 0 0 0 2.828l12.02 12.02a1.997 1.997 0 0 0 2.83 0L47.97 62.818l32.535 32.535a2 2 0 0 0 2.827 0l12.02-12.02c.78-.783.78-2.05 0-2.83L62.82 47.97z"/></svg>'},60702:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18px" height="18px"><path fill-rule="evenodd" d="M12.5 11h-.79l-.28-.27A6.47 6.47 0 0 0 13 6.5 6.5 6.5 0 1 0 6.5 13c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L17.49 16l-4.99-5zm-6 0C4.01 11 2 8.99 2 6.5S4.01 2 6.5 2 11 4.01 11 6.5 8.99 11 6.5 11z"/></svg>'}},e=>{e.O(0,[54433,45958,85026,83702,12331,2e3,80509,66708,63562,63975,10108,50656,9954,7884,60777,36336,32157,68985,7493,15574,11946,84830,48541,29993,47662,29195,75514,87236,59420,23127,24951,98449,95170,17709,67758,34318,8505,47872,83912,13345,82614,58837,68522,84671,73769,20217,32631,86348],()=>{return t=135857,e(e.s=t);var t});e.O()}]);